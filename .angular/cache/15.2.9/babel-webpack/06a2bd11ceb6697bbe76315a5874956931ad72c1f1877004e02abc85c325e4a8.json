{"ast":null,"code":"var _class;\nimport { Book } from '../book';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../book.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction BookPageComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"h5\", 15);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.message, \" \");\n  }\n}\nfunction BookPageComponent_tr_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 10);\n    i0.ɵɵlistener(\"click\", function BookPageComponent_tr_29_Template_td_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const book_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.getBookDetails(book_r4.id));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 10);\n    i0.ɵɵlistener(\"click\", function BookPageComponent_tr_29_Template_td_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const book_r4 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.getBookDetails(book_r4.id));\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 10);\n    i0.ɵɵlistener(\"click\", function BookPageComponent_tr_29_Template_td_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const book_r4 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.getBookDetails(book_r4.id));\n    });\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function BookPageComponent_tr_29_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const book_r4 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.updateBook(book_r4));\n    });\n    i0.ɵɵtext(9, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function BookPageComponent_tr_29_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const book_r4 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.deleteBook(book_r4.id));\n    });\n    i0.ɵɵtext(11, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const book_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(book_r4.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(book_r4.author);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(book_r4.year);\n  }\n}\nfunction BookPageComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"h3\");\n    i0.ɵɵtext(2, \" Add New Book\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 17);\n    i0.ɵɵlistener(\"ngSubmit\", function BookPageComponent_div_30_Template_form_ngSubmit_3_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.addBook());\n    });\n    i0.ɵɵelementStart(4, \"div\", 18)(5, \"label\", 19);\n    i0.ɵɵtext(6, \"Title:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"input\", 20);\n    i0.ɵɵlistener(\"ngModelChange\", function BookPageComponent_div_30_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.newBook.title = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"label\", 21);\n    i0.ɵɵtext(9, \"Author:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"input\", 22);\n    i0.ɵɵlistener(\"ngModelChange\", function BookPageComponent_div_30_Template_input_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.newBook.author = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"label\", 23);\n    i0.ɵɵtext(12, \"Year:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"input\", 24);\n    i0.ɵɵlistener(\"ngModelChange\", function BookPageComponent_div_30_Template_input_ngModelChange_13_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.newBook.year = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(14, \"br\");\n    i0.ɵɵelementStart(15, \"button\", 25);\n    i0.ɵɵtext(16, \"Add\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function BookPageComponent_div_30_Template_button_click_17_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.closeAddBook());\n    });\n    i0.ɵɵtext(18, \"Close\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.newBook.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.newBook.author);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.newBook.year);\n  }\n}\nfunction BookPageComponent_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"div\", 27)(2, \"h5\");\n    i0.ɵɵtext(3, \"Update Book\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 28)(5, \"form\", 17);\n    i0.ɵɵlistener(\"ngSubmit\", function BookPageComponent_div_32_Template_form_ngSubmit_5_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.toUpdateBook());\n    });\n    i0.ɵɵelementStart(6, \"div\", 18)(7, \"label\", 19);\n    i0.ɵɵtext(8, \"Title:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"input\", 20);\n    i0.ɵɵlistener(\"ngModelChange\", function BookPageComponent_div_32_Template_input_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.changeBook.title = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"label\", 21);\n    i0.ɵɵtext(11, \"Author:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"input\", 22);\n    i0.ɵɵlistener(\"ngModelChange\", function BookPageComponent_div_32_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.changeBook.author = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"label\", 23);\n    i0.ɵɵtext(14, \"Year:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"input\", 24);\n    i0.ɵɵlistener(\"ngModelChange\", function BookPageComponent_div_32_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.changeBook.year = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"button\", 29);\n    i0.ɵɵtext(17, \"Update\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function BookPageComponent_div_32_Template_button_click_18_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.closeUpdateBook());\n    });\n    i0.ɵɵtext(19, \"Close\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.changeBook.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.changeBook.author);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.changeBook.year);\n  }\n}\nexport class BookPageComponent {\n  constructor(bookService, router) {\n    this.bookService = bookService;\n    this.router = router;\n    this.books = [];\n    this.id = '';\n    this.newBook = new Book();\n    this.changeBook = new Book();\n    this.searchTerm = '';\n    this.updateModal = 'updateBook';\n    this.updateFlag = false;\n    this.addFlag = false;\n  }\n  ngOnInit() {\n    this.fetchBooks();\n    this.message;\n  }\n  addBookFlag() {\n    this.message = '';\n    this.addFlag = true;\n    this.newBook = new Book();\n  }\n  closeAddBook() {\n    this.message = '';\n    this.addFlag = false;\n    this.newBook = new Book();\n  }\n  fetchBooks() {\n    this.bookService.getBooks().subscribe(response => {\n      this.message = '';\n      this.id = '';\n      this.books = response;\n      console.log(this.books);\n    }, error => {\n      console.error(\"Error occured in getBooks()\");\n      this.message = \"Oops, something went wrong. Please try again later\";\n    });\n  }\n  findBook() {\n    this.bookService.searchBook(this.id).subscribe(response => {\n      this.message = '';\n      this.books = [];\n      this.books = [response];\n    }, error => {\n      console.error(\"Error occured in findBook()\");\n      if (error.status == 404) this.message = \"Book with ID: \" + this.id + \" is not present\";else this.message = \"Oops, something went wrong. Please try again later\";\n    });\n  }\n  filterBook() {\n    if (this.searchTerm.trim() == '') {\n      this.fetchBooks();\n    } else {\n      this.books = this.books.filter(book => book.title.toLowerCase().includes(this.searchTerm.toLowerCase()) || book.author.toLowerCase().includes(this.searchTerm.toLowerCase()));\n    }\n  }\n  addBook() {\n    console.log(Number(this.newBook.year), typeof this.newBook.author, typeof this.newBook.title);\n    if (typeof this.newBook.author != \"string\" || typeof this.newBook.title != \"string\" || isNaN(Number(this.newBook.year)) || this.newBook.year.toString().length != 4) {\n      alert(\"Please enter valid Data\");\n      return;\n    } else {\n      this.bookService.addBook(this.newBook).subscribe(response => {\n        this.message = '';\n        this.newBook;\n        alert(\"New Record added Successfully\");\n        this.fetchBooks();\n        this.addFlag = false;\n      }, error => {\n        console.error(\"Error occured in addBook()\");\n        this.message = \"Oops, something went wrong. Please try again later\";\n      });\n    }\n  }\n  deleteBook(id) {\n    console.log(id);\n    this.bookService.deleteBook(id).subscribe(response => {\n      this.fetchBooks();\n    }, error => {\n      console.error(\"Error occured in deleteBook()\");\n      this.message = \"Oops, something went wrong. Please try again later\";\n    });\n  }\n  updateBook(book) {\n    this.changeBook = {\n      ...book\n    };\n    this.updateFlag = true;\n  }\n  toUpdateBook() {\n    console.log(this.changeBook);\n    if (typeof this.changeBook.author != \"string\" || typeof this.changeBook.title != \"string\" || isNaN(Number(this.changeBook.year)) || this.changeBook.year.toString().length != 4) {\n      alert(\"Please enter valid Data\");\n      return;\n    } else if (this.checkDuplicates(this.changeBook)) {\n      alert(\"Record already present\");\n      return;\n    }\n    this.bookService.updateBook(this.changeBook).subscribe(response => {\n      this.message = '';\n      this.books = response;\n      alert(\"Record updated Successfully\");\n      this.closeUpdateBook();\n    }, error => {\n      console.error(\"Error occured in toUpdateBook()\");\n      this.message = \"Oops, something went wrong. Please try again later\";\n    });\n  }\n  closeUpdateBook() {\n    this.updateFlag = false;\n    this.changeBook;\n  }\n  sortBooks(byType) {\n    if (byType == 1) {\n      this.books.sort((a, b) => a.title.localeCompare(b.title));\n    } else if (byType == 2) {\n      this.books.sort((a, b) => a.author.localeCompare(b.author));\n    } else if (byType == 3) {\n      this.books.sort((a, b) => a.year - b.year);\n    }\n  }\n  getBookDetails(id) {\n    this.bookService.searchBook(id).subscribe(response => {\n      this.message = '';\n      this.router.navigate(['/details'], {\n        state: {\n          response\n        }\n      });\n    }, error => {\n      console.error(\"Error occured in getBookDetails()\");\n      this.message = \"Oops, something went wrong. Please try again later\";\n    });\n  }\n  checkDuplicates(b) {\n    return this.books.some(a => a.author == b.author && a.title == b.title && a.year == b.year);\n  }\n}\n_class = BookPageComponent;\n_class.ɵfac = function BookPageComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.BookService), i0.ɵɵdirectiveInject(i2.Router));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-book-page\"]],\n  decls: 33,\n  vars: 6,\n  consts: [[\"class\", \"alert alert-danger\", 4, \"ngIf\"], [1, \"container\"], [1, \"row\"], [1, \"col-md-6\"], [\"type\", \"text\", \"size\", \"30\", \"placeholder\", \"Search by Book Id\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"size\", \"30\", \"placeholder\", \"Filter by title or author\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"btn\", \"btn-warning\", 3, \"click\"], [1, \"table\"], [3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"container\", 4, \"ngIf\"], [\"class\", \"container\", \"id\", \"updateBook\", 4, \"ngIf\"], [1, \"alert\", \"alert-danger\"], [1, \"text-center\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"title\"], [\"type\", \"text\", \"size\", \"30\", \"id\", \"title\", \"name\", \"title\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"author\"], [\"type\", \"text\", \"size\", \"30\", \"id\", \"Author\", \"name\", \"Author\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"year\"], [\"type\", \"text\", \"size\", \"30\", \"id\", \"year\", \"name\", \"year\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\"], [\"id\", \"updateBook\", 1, \"container\"], [1, \"header\"], [1, \"modal-body\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"]],\n  template: function BookPageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, BookPageComponent_div_0_Template, 3, 1, \"div\", 0);\n      i0.ɵɵelement(1, \"br\");\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"h2\");\n      i0.ɵɵtext(4, \" Book Dashboard \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 2)(6, \"div\", 3)(7, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function BookPageComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.id = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"div\", 3)(9, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function BookPageComponent_Template_input_ngModelChange_9_listener($event) {\n        return ctx.searchTerm = $event;\n      })(\"input\", function BookPageComponent_Template_input_input_9_listener() {\n        return ctx.filterBook();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(10, \"br\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function BookPageComponent_Template_button_click_11_listener() {\n        return ctx.findBook();\n      });\n      i0.ɵɵtext(12, \"Search\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function BookPageComponent_Template_button_click_13_listener() {\n        return ctx.addBookFlag();\n      });\n      i0.ɵɵtext(14, \"Add\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function BookPageComponent_Template_button_click_15_listener() {\n        return ctx.fetchBooks();\n      });\n      i0.ɵɵtext(16, \"Clear\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"table\", 9)(18, \"thead\")(19, \"tr\")(20, \"th\", 10);\n      i0.ɵɵlistener(\"click\", function BookPageComponent_Template_th_click_20_listener() {\n        return ctx.sortBooks(1);\n      });\n      i0.ɵɵtext(21, \"Title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"th\", 10);\n      i0.ɵɵlistener(\"click\", function BookPageComponent_Template_th_click_22_listener() {\n        return ctx.sortBooks(2);\n      });\n      i0.ɵɵtext(23, \"Author\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"th\", 10);\n      i0.ɵɵlistener(\"click\", function BookPageComponent_Template_th_click_24_listener() {\n        return ctx.sortBooks(3);\n      });\n      i0.ɵɵtext(25, \"Year\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"th\");\n      i0.ɵɵtext(27, \"Action\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(28, \"tbody\");\n      i0.ɵɵtemplate(29, BookPageComponent_tr_29_Template, 12, 3, \"tr\", 11);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(30, BookPageComponent_div_30_Template, 19, 3, \"div\", 12);\n      i0.ɵɵelement(31, \"br\");\n      i0.ɵɵtemplate(32, BookPageComponent_div_32_Template, 20, 3, \"div\", 13);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.message);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.id);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.searchTerm);\n      i0.ɵɵadvance(20);\n      i0.ɵɵproperty(\"ngForOf\", ctx.books);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.addFlag);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.updateFlag);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Book","i0","BookPageComponent","constructor","bookService","router","ngOnInit","fetchBooks","message","addBookFlag","addFlag","newBook","closeAddBook","getBooks","subscribe","response","id","books","console","log","error","findBook","searchBook","status","filterBook","searchTerm","trim","filter","book","title","toLowerCase","includes","author","addBook","Number","year","isNaN","toString","length","alert","deleteBook","updateBook","changeBook","updateFlag","toUpdateBook","checkDuplicates","closeUpdateBook","sortBooks","byType","sort","a","b","localeCompare","getBookDetails","navigate","state","some","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Sagar Drive\\StudyMaterial\\Assessments\\Staples\\frontend\\src\\app\\book-page\\book-page.component.ts","C:\\Sagar Drive\\StudyMaterial\\Assessments\\Staples\\frontend\\src\\app\\book-page\\book-page.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Book } from '../book';\nimport { BookService } from '../book.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-book-page',\n  templateUrl: './book-page.component.html',\n  styleUrls: ['./book-page.component.css']\n})\nexport class BookPageComponent implements OnInit {\n  books: Book[] = [];\n  id = '';\n  newBook: Book = new Book();\n  changeBook: Book = new Book();\n  message: any;\n  searchTerm = '';\n  updateModal = 'updateBook';\n  updateFlag = false;\n  addFlag = false;\n\n\n  constructor( private bookService: BookService, private router: Router) { }\n\n  ngOnInit(): void {\n    this.fetchBooks();\n    this.message ;\n  }\n\n\n  addBookFlag(){\n    this.message = '';\n    this.addFlag = true;\n    this.newBook = new Book();\n  }\n\n  closeAddBook(){\n    this.message = '';\n    this.addFlag = false\n    this.newBook = new Book();\n  }\n\n  fetchBooks(){\n    this.bookService.getBooks().subscribe( (response) => {\n      this.message = '';\n      this.id = '';\n      this.books = response;\n      console.log(this.books);\n    },\n    (error) => {\n      console.error(\"Error occured in getBooks()\");\n      this.message = \"Oops, something went wrong. Please try again later\";\n    }\n    );\n  }\n\n  findBook(){\n    this.bookService.searchBook(this.id).subscribe( (response) =>{\n      this.message = '';\n      this.books = [];\n      this.books = [response];\n    },\n    (error) => {\n      console.error(\"Error occured in findBook()\");\n      if(error.status == 404) this.message = \"Book with ID: \"+this.id+\" is not present\";\n      else this.message = \"Oops, something went wrong. Please try again later\";\n    })\n  }\n\n  filterBook(){\n    if(this.searchTerm.trim() == ''){\n      this.fetchBooks();\n    } else{\n      this.books = this.books.filter( book =>\n        book.title.toLowerCase().includes(this.searchTerm.toLowerCase()) || book.author.toLowerCase().includes(this.searchTerm.toLowerCase()));\n    }\n  }\n\n  addBook(){\n    console.log(Number(this.newBook.year), typeof this.newBook.author, typeof this.newBook.title);\n    if(typeof this.newBook.author != \"string\" || typeof this.newBook.title != \"string\" || isNaN(Number(this.newBook.year)) || (this.newBook.year.toString().length) != 4 ) {\n      alert(\"Please enter valid Data\");\n      return;\n    }\n    else{\n      this.bookService.addBook(this.newBook).subscribe( (response) =>{\n        this.message = '';\n        this.newBook;\n        alert(\"New Record added Successfully\");\n        this.fetchBooks();\n        this.addFlag = false;\n\n      },\n      (error) => {\n        console.error(\"Error occured in addBook()\");\n        this.message = \"Oops, something went wrong. Please try again later\";\n      })\n    }\n    \n  }\n  \n  deleteBook(id: number){\n    console.log(id)\n    this.bookService.deleteBook(id).subscribe( (response) =>{\n      this.fetchBooks();\n    },\n    (error) => {\n      console.error(\"Error occured in deleteBook()\");\n      this.message = \"Oops, something went wrong. Please try again later\";\n    })\n  }\n\n  updateBook(book: any){\n    this.changeBook = {...book};\n    this.updateFlag = true;\n  }\n\n  toUpdateBook(){\n    console.log(this.changeBook);\n    if(typeof this.changeBook.author != \"string\" || typeof this.changeBook.title != \"string\" || isNaN(Number(this.changeBook.year)) || (this.changeBook.year.toString().length) != 4 ) {\n      alert(\"Please enter valid Data\");\n      return;\n    }\n    else if(this.checkDuplicates(this.changeBook)){\n      alert(\"Record already present\");\n      return;\n    }\n    this.bookService.updateBook(this.changeBook).subscribe( (response) =>{\n      this.message = '';\n      this.books = response;\n      alert(\"Record updated Successfully\");\n      this.closeUpdateBook();\n    },\n    (error) => {\n      console.error(\"Error occured in toUpdateBook()\");\n      this.message = \"Oops, something went wrong. Please try again later\";\n    })\n  }\n  \n  closeUpdateBook(){\n    this.updateFlag = false\n    this.changeBook;\n  }\n\n  sortBooks(byType: any){\n    if(byType == 1){\n      this.books.sort((a,b)=> a.title.localeCompare(b.title));\n    }\n    else if(byType == 2){\n      this.books.sort((a,b)=> a.author.localeCompare(b.author));\n    }\n    else if(byType == 3){\n      this.books.sort((a,b)=> a.year - b.year);\n    }\n\n  }\n\n  getBookDetails(id: any){\n    this.bookService.searchBook(id).subscribe( (response) =>{\n      this.message = '';\n      this.router.navigate(['/details'], {state: {response}});\n    },\n    (error) => {\n      console.error(\"Error occured in getBookDetails()\");\n      this.message = \"Oops, something went wrong. Please try again later\";\n    })\n  }\n\n  checkDuplicates(b: any){\n    return this.books.some(a => a.author == b.author && a.title == b.title && a.year == b.year);\n\n  }\n\n}\n","<div class=\"alert alert-danger\" *ngIf=\"message\">\n    <h5 class=\"text-center\"> {{message}} </h5>\n</div>\n<br>\n\n<div class=\"container\">\n    <h2> Book Dashboard </h2>\n    <div class=\"row\">\n        <div class=\"col-md-6\"> \n            <input type=\"text\" size=\"30\" class=\"form-control\" [(ngModel)] = \"id\" placeholder=\"Search by Book Id\">\n        </div>\n        <div class=\"col-md-6\">\n            <input type=\"text\" size=\"30\" class=\"form-control\" [(ngModel)] = \"searchTerm\" (input)=\"filterBook()\" placeholder=\"Filter by title or author\"> <br>\n        </div>\n    </div>\n    <button class=\"btn btn-primary\" (click)=\"findBook()\">Search</button>\n    <button class=\"btn btn-success\" (click)=\"addBookFlag()\">Add</button>\n    <button class=\"btn btn-warning\" (click)=\"fetchBooks()\">Clear</button>        \n    <table class=\"table\">\n        <thead>\n            <tr>\n                <th (click)=\"sortBooks(1)\">Title</th>\n                <th (click)=\"sortBooks(2)\">Author</th>\n                <th (click)=\"sortBooks(3)\">Year</th>\n                <th>Action</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr *ngFor=\"let book of books\">\n                <td (click)=\"getBookDetails(book.id)\">{{book.title}}</td>\n                <td (click)=\"getBookDetails(book.id)\">{{book.author}}</td>\n                <td (click)=\"getBookDetails(book.id)\">{{book.year}}</td>\n                <td>\n                    <button class=\"btn btn-primary\" (click)=\"updateBook(book)\">Edit</button>\n                    <button class=\"btn btn-danger\" (click)=\"deleteBook(book.id)\">Delete</button>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</div>\n\n<div class=\"container\" *ngIf=\"addFlag\">\n    <h3> Add New Book</h3>\n    <form (ngSubmit)=\"addBook()\">\n        <div class=\"form-group\">\n            <label for=\"title\">Title:</label>\n            <input type=\"text\" size=\"30\" class=\"form-control\" id=\"title\" [(ngModel)]=\"newBook.title\" name=\"title\" required>\n            <label for=\"author\">Author:</label>\n            <input type=\"text\" size=\"30\" class=\"form-control\" id=\"Author\" [(ngModel)]=\"newBook.author\" name=\"Author\" required>\n            <label for=\"year\">Year:</label>\n            <input type=\"text\" size=\"30\" class=\"form-control\" id=\"year\" [(ngModel)]=\"newBook.year\" name=\"year\" required>\n        </div> <br>\n        <button type=\"submit\" class=\"btn btn-success\">Add</button>\n        <button class=\"btn btn-danger\" (click)=\"closeAddBook()\">Close</button>\n    </form>\n</div>\n<br>\n\n<div class=\"container\" id=\"updateBook\" *ngIf=\"updateFlag\">\n    <div class=\"header\" >\n        <h5>Update Book</h5>\n       \n    </div>\n        <div class=\"modal-body\">\n            <form (ngSubmit)=\"toUpdateBook()\">\n                <div class=\"form-group\">\n                    <label for=\"title\">Title:</label>\n                    <input type=\"text\" size=\"30\" class=\"form-control\" id=\"title\" [(ngModel)]=\"changeBook.title\" name=\"title\" required>\n                    <label for=\"author\">Author:</label>\n                    <input type=\"text\" size=\"30\" class=\"form-control\" id=\"Author\" [(ngModel)]=\"changeBook.author\" name=\"Author\" required>\n                    <label for=\"year\">Year:</label>\n                    <input type=\"text\" size=\"30\" class=\"form-control\" id=\"year\" [(ngModel)]=\"changeBook.year\" name=\"year\" required>\n                </div>\n                <button type=\"submit\" class=\"btn btn-primary\">Update</button>\n                <button class=\"btn btn-danger\" (click)=\"closeUpdateBook()\">Close</button>\n            </form>\n        </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}