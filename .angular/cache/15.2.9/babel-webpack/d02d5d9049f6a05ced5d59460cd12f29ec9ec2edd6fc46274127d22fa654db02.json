{"ast":null,"code":"var _class;\nimport { Book } from '../book';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../book.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction BookPageComponent_tr_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const book_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(book_r1.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(book_r1.author);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(book_r1.year);\n  }\n}\nexport class BookPageComponent {\n  constructor(bookService) {\n    this.bookService = bookService;\n    this.books = [];\n    this.id = '';\n    this.newBook = new Book();\n  }\n  ngOnInit() {\n    this.fetchBooks();\n  }\n  fetchBooks() {\n    this.bookService.getBooks().subscribe(data => {\n      this.books = data;\n      console.log(this.books);\n    });\n  }\n  findBook() {\n    this.bookService.searchBook(this.id).subscribe(data => {\n      this.books = [];\n      this.books = [data];\n    });\n  }\n  addBook() {\n    this.bookService.addBook(book).subscribe(() => {\n      this.fetchBooks();\n      this.newBook = new Book();\n    });\n  }\n}\n_class = BookPageComponent;\n_class.ɵfac = function BookPageComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.BookService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-book-page\"]],\n  decls: 15,\n  vars: 2,\n  consts: [[1, \"container\"], [\"type\", \"text\", \"placeholder\", \"Enter title or author to search\", 3, \"ngModel\", \"ngModelChange\", \"input\"], [1, \"table\"], [4, \"ngFor\", \"ngForOf\"]],\n  template: function BookPageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n      i0.ɵɵtext(2, \" Book Directory \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"input\", 1);\n      i0.ɵɵlistener(\"ngModelChange\", function BookPageComponent_Template_input_ngModelChange_3_listener($event) {\n        return ctx.id = $event;\n      })(\"input\", function BookPageComponent_Template_input_input_3_listener() {\n        return ctx.findBook();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"table\", 2)(5, \"thead\")(6, \"tr\")(7, \"th\");\n      i0.ɵɵtext(8, \"Title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"th\");\n      i0.ɵɵtext(10, \"Author\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\");\n      i0.ɵɵtext(12, \"Year\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(13, \"tbody\");\n      i0.ɵɵtemplate(14, BookPageComponent_tr_14_Template, 7, 3, \"tr\", 3);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.id);\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngForOf\", ctx.books);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";AACA,SAASA,IAAI,QAAQ,SAAS;;;;;;;ICYlBC,0BAA+B;IACvBA,YAAc;IAAAA,iBAAK;IACvBA,0BAAI;IAAAA,YAAe;IAAAA,iBAAK;IACxBA,0BAAI;IAAAA,YAAa;IAAAA,iBAAK;;;;IAFlBA,eAAc;IAAdA,mCAAc;IACdA,eAAe;IAAfA,oCAAe;IACfA,eAAa;IAAbA,kCAAa;;;ADPjC,OAAM,MAAOC,iBAAiB;EAK5BC,YAAqBC,WAAwB;IAAxB,gBAAW,GAAXA,WAAW;IAJhC,UAAK,GAAW,EAAE;IAClB,OAAE,GAAG,EAAE;IACP,YAAO,GAAS,IAAIJ,IAAI,EAAE;EAEuB;EAEjDK,QAAQ;IACN,IAAI,CAACC,UAAU,EAAE;EACnB;EAEAA,UAAU;IACR,IAAI,CAACF,WAAW,CAACG,QAAQ,EAAE,CAACC,SAAS,CAAEC,IAAI,IAAG;MAC5C,IAAI,CAACC,KAAK,GAAGD,IAAI;MACjBE,OAAO,CAACC,GAAG,CAAC,IAAI,CAACF,KAAK,CAAC;IACzB,CAAC,CAAC;EACJ;EAEAG,QAAQ;IACN,IAAI,CAACT,WAAW,CAACU,UAAU,CAAC,IAAI,CAACC,EAAE,CAAC,CAACP,SAAS,CAAEC,IAAI,IAAG;MACrD,IAAI,CAACC,KAAK,GAAG,EAAE;MACf,IAAI,CAACA,KAAK,GAAG,CAACD,IAAI,CAAC;IACrB,CAAC,CAAC;EACJ;EAEAO,OAAO;IACL,IAAI,CAACZ,WAAW,CAACY,OAAO,CAACC,IAAI,CAAC,CAACT,SAAS,CAAC,MAAK;MAC5C,IAAI,CAACF,UAAU,EAAE;MAChB,IAAI,CAACY,OAAO,GAAG,IAAIlB,IAAI,EAAE;IAC5B,CAAC,CAAC;EACJ;;SA9BWE,iBAAiB;;mBAAjBA,MAAiB;AAAA;;QAAjBA,MAAiB;EAAAiB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCR9BtB,8BAAuB;MACdA,gCAAe;MAAAA,iBAAK;MACzBA,gCAAyG;MAAtFA;QAAA;MAAA,EAAkB;QAAA,OAAUuB,cAAU;MAAA,EAApB;MAArCvB,iBAAyG;MACzGA,gCAAqB;MAGLA,qBAAK;MAAAA,iBAAK;MACdA,0BAAI;MAAAA,uBAAM;MAAAA,iBAAK;MACfA,2BAAI;MAAAA,qBAAI;MAAAA,iBAAK;MAGrBA,8BAAO;MACHA,kEAIK;MACTA,iBAAQ;;;MAfOA,eAAkB;MAAlBA,gCAAkB;MAURA,gBAAQ;MAARA,mCAAQ","names":["Book","i0","BookPageComponent","constructor","bookService","ngOnInit","fetchBooks","getBooks","subscribe","data","books","console","log","findBook","searchBook","id","addBook","book","newBook","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Sagar Drive\\StudyMaterial\\Assessments\\Staples\\frontend\\src\\app\\book-page\\book-page.component.ts","C:\\Sagar Drive\\StudyMaterial\\Assessments\\Staples\\frontend\\src\\app\\book-page\\book-page.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Book } from '../book';\nimport { BookService } from '../book.service';\n\n@Component({\n  selector: 'app-book-page',\n  templateUrl: './book-page.component.html',\n  styleUrls: ['./book-page.component.css']\n})\nexport class BookPageComponent implements OnInit {\n  books: Book[] = [];\n  id = '';\n  newBook: Book = new Book();\n\n  constructor( private bookService: BookService) { }\n\n  ngOnInit(): void {\n    this.fetchBooks();\n  }\n\n  fetchBooks(){\n    this.bookService.getBooks().subscribe( data => {\n      this.books = data;\n      console.log(this.books);\n    });\n  }\n\n  findBook(){\n    this.bookService.searchBook(this.id).subscribe( data =>{\n      this.books = [];\n      this.books = [data];\n    })\n  }\n\n  addBook(){\n    this.bookService.addBook(book).subscribe(() =>{\n      this.fetchBooks();\n       this.newBook = new Book();\n    });\n  }\n\n\n}\n","\n<div class=\"container\">\n    <h2> Book Directory </h2>\n    <input type=\"text\" [(ngModel)] = \"id\" (input)=\"findBook()\" placeholder=\"Enter title or author to search\">\n    <table class=\"table\">\n        <thead>\n            <tr>\n                <th>Title</th>\n                <th>Author</th>\n                <th>Year</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr *ngFor=\"let book of books\">\n                <td>{{book.title}}</td>\n                <td>{{book.author}}</td>\n                <td>{{book.year}}</td>\n            </tr>\n        </tbody>\n    </table>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}